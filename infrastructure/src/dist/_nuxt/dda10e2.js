(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{672:function(t,e,n){"use strict";n.r(e);var o={components:{AudioControl:function(){return n.e(39).then(n.bind(null,679))}},props:{QUOTE_TEXT:String},data:function(){return{SYNTHESIS:null,VOICES:null,VOICE_SPEAKING:!1,VOICE_PAUSED:!1,VOICE_COMPLETE:!1,voice:null,readText:"",currentWord:0,totalWords:1}},watch:{QUOTE_TEXT:function(){}},mounted:function(){var t=this,e=this.$refs.elGetText.textContent;this.readText=e.replaceAll(/(\.)([A-Z])/gi,(function(t,e,n,o,E,s){return e+" "+n})),this.totalWords=this.readText.length,this.SYNTHESIS=window.speechSynthesis;var n=setInterval((function(){t.SYNTHESIS.getVoices().length>0&&(t.getVoices(),clearInterval(n))}),200)},beforeDestroy:function(){this.SYNTHESIS.cancel()},methods:{getVoices:function(){this.VOICES=this.SYNTHESIS.getVoices(),this.voice=this.VOICES&&this.VOICES.length>0?this.VOICES[4]:null},resetVoice:function(){this.VOICE_SPEAKING=!1,this.VOICE_PAUSED=!1,this.VOICE_COMPLETE=!1,console.log("END")},paused:function(){this.VOICE_PAUSED=!0},resumed:function(){this.VOICE_PAUSED=!1},play:function(){var t=this;if(window.utterances=[],this.VOICE_SPEAKING)this.VOICE_PAUSED&&this.SYNTHESIS.resume(),this.resumed();else{var e=new SpeechSynthesisUtterance(this.readText);this.voice&&(e.voice=this.voice.voice),e.onpause=function(e){t.VOICE_PAUSED=!0},e.onresume=function(e){t.VOICE_PAUSED=!1};e.onstart=function(e){t.VOICE_COMPLETE=!1,t.VOICE_SPEAKING=!0,function e(){t.VOICE_PAUSED||t.SYNTHESIS.resume();setTimeout(e,1e3)}()},e.onboundary=function(e){t.currentWord=e.charIndex},e.onend=function(e){t.resetVoice()},this.SYNTHESIS.cancel(),utterances.push(e),this.SYNTHESIS.speak(e)}},pause:function(){this.VOICE_SPEAKING&&this.SYNTHESIS.pause(),this.paused()},stop:function(){this.VOICE_SPEAKING&&this.SYNTHESIS.cancel(),this.resetVoice(),this.VOICE_COMPLETE=!0}}},E=n(37),component=Object(E.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("AudioControl",{attrs:{loaded:!0,playing:t.VOICE_SPEAKING,paused:t.VOICE_PAUSED,currentTime:t.currentWord,duration:t.totalWords},on:{stop:t.stop,play:t.play,pause:t.pause}}),t._v(" "),n("div",{ref:"elGetText",staticStyle:{display:"none"},domProps:{innerHTML:t._s(t.QUOTE_TEXT)}})],1)}),[],!1,null,"01eebfac",null);e.default=component.exports}}]);